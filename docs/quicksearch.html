<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"utilities_AudioManager.js.html":{"id":"utilities_AudioManager.js.html","title":"Source: utilities/AudioManager.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: utilities/AudioManager.js import {PlayableNote, MusicTheoryStructures as mts} from '..' import Tone from 'tone' let self = null /** * @classdesc A singleton class which handles all file requests, * uses &lt;a href=\"https://tonejs.github.io/\"&gt;ToneJS&lt;/a&gt; as the audio library. * @class */ export class AudioManager { /** * Should never be called * @private */ constructor() { this.players = new Tone.Players() } /** * Singleton implementation. */ static getAudioManager() { self = self || new AudioManager() return self } static resumeContext(){ Tone.context.resume() } /** * Trnasforms notes of type '#' to 'b' in order to access the file's name. * @param pitchClass * @param classSet * @returns {String} */ static normalizeSet(pitchClass, classSet) { if (classSet === '#') { const index = mts.sharpClassNotes.indexOf(pitchClass) pitchClass = mts.flatClassNotes[index] } const index = mts.flatClassNotes.indexOf(pitchClass) return mts.flatClassNotes[index] } /** * Calculates a specific note's key. * @param {PlayableNote} note */ static getKey({pitchClass, octave, instrument, classSet}) { const set = AudioManager.normalizeSet(pitchClass, classSet) return `${instrument.slice(0, 2)}${set}${octave}` } /** * Add a note to the map. * @param {PlayableNote} pn */ setNote(pn) { const key = AudioManager.getKey(pn) if (!this.players.has(key)) { const server = 'https://sean-test-server.herokuapp.com/' const set = AudioManager.normalizeSet(pn.pitchClass, pn.classSet) const file = `/FF_${set}${pn.octave}` const fileType = 'mp3' const instrument = pn.instrument const url = `${server}${instrument}${file}.${fileType}` this.players.add(key, url).toMaster() } } /** * Get a note's Player. * @param {PlayableNote} playableNote * @returns {Tone.Player} */ getPlayer(playableNote) { return this.players.get(AudioManager.getKey(playableNote)) } /** * Create a player for some sound. * @param fliepath * @param key */ setSound(fliepath, key) { if (!this.players.has(key)) { this.players.add(key, fliepath).toMaster() } } /** * Play sound by player key. * @param {String} key Player key. */ playSound(key) { this.players.get(key).start() } } × Search results Close Music "},"models_Chord.js.html":{"id":"models_Chord.js.html","title":"Source: models/Chord.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/Chord.js import {MissingInformation, DataNotFound} from '../Exceptions' import {findQuery} from '../utilities/Addons' import {playMelodically} from '../utilities/MusicalAddons' const chords = require('../resources/Chords.json') /** * @classdesc Represents a musical Chord - a number of notes with a specific * pattern which can be played together to form a harmonic sound. * @class * @throws {MissingInformation} When not provided with root and either name or pattern * @throws {DataNotFound} When called with name and the name cant be found in the * @example * const c = new Note({note: 'c'}) * const C_Maj_by_pattern = new Chord({root:c, pattern: [4, 7]}) // new C major chord. * const C_min_by_name = new Chord({root:c, name: 'm'}) // new C minor chord. */ export class Chord { /** * Creates a Chord instance. * &lt;b&gt;Either Name or Pattern must be provided!&lt;/b&gt; * @param {Object} attributes Object that contains some of the following keys: * {Note} root - chords root note * {String} name - the chords name(by marking) * {Array} pattern - the pattern to build the chord by pitchIntervals */ constructor({root, name, pattern}) { const attributes = {} if (!root) { throw new MissingInformation('root') } attributes.info = findQuery(name, pattern, chords) if (!attributes.info['Chord']) { attributes.info['Chord'] = '' } attributes.notes = [] this.attributes = attributes this.notes.push(root) this.pitchIntervals.forEach(interval =&gt; this.notes.push(root.interval(interval)), ) } /** * Array of the notes in the chord. * @type {Array} */ get notes() { return this.attributes.notes } /** * Name of the chord. * @type {String} */ get fullName() { return this.attributes.info['Chord'] } /** * Marking of the chord. * @type {String} */ get name() { return this.attributes.info['Name'] } /** * Returns chord root octave. * @type {Number} */ get octave() { return this.notes[0].octave } /** * Array of the intervals from the root to each note in the chord(excluding the root) * @type {Array} */ get pitchIntervals() { return JSON.parse(this.attributes.info['Pattern']) } get duration(){ return this.notes[0].duration } get type() { if (this.pitchIntervals.includes(4)) { return 'major' } else if (this.pitchIntervals.includes(3)) { return 'minor' } else { return null } } /** * Play the chord. * @type {void} */ play() { this.notes.forEach(note =&gt; note.play()) } /** * Play chord notes melodically. */ playMelody() { playMelodically(this.notes, 400) } /** * Generate the same chord with a new duration. * @param duration * @returns {Chord} */ setDuration(duration) { return new Chord({ root: this.notes[0].setDuration(duration), pattern: this.pitchIntervals, }) } /** * Generate the same chord with a new octave. * @param octave * @returns {Chord} */ setOctave(octave) { return new Chord({ root: this.notes[0].setOctave(octave), pattern: this.pitchIntervals, }) } /** * Transforms the chord into its root position. */ rootPosition() { // TODO } /** * Transforms the chord into its 1st-inversion. */ inversionFirst() { //TODO } /** * Transforms the chord into its 2st-inversion. */ inversionSecond() { //TODO } /** * Get a string of the chord's name. * @returns {String} */ toString() { return `${this.notes[0].pitchClass} ${this.name}` } /** * Returns a string of the chord notes pitch classes. * @returns {string} */ get pitchClasses() { let s = '' this.notes.forEach(note =&gt; s += note.toString() + ', ') return s } /** * Generates a new chord with the interval applied * @param {Number} interval the interval to apply * @returns {Chord} */ transpose(interval) { const root = this.notes[0].transpose(interval) return new Chord({root, pattern: this.pitchIntervals}) } } × Search results Close Music "},"utilities_Addons.js.html":{"id":"utilities_Addons.js.html","title":"Source: utilities/Addons.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: utilities/Addons.js import {Chord, Note} from '../' import {DataNotFound, MissingInformation} from '../Exceptions' /** * Transforms the first letter of a string to upper case. * @param {String} str String to transform * @returns {String} */ function firstToUpper(str) { return str.charAt(0).toUpperCase() + str.slice(1) } /** * Returns a number formatted to show only 2 digits after the decimal point. * @param {Number} num * @returns {Number} */ const twoDigitFormat = num =&gt; Number(Number.parseFloat(num).toFixed(2)) /** * Gets either a name, a pattern, or nothing. * checks which one it got * and tries to find it in the source. * @param {String} [name] name * @param {Array} [pattern] pattern * @param {Object} source the source to search in * @throws {MissingInformation} * @returns {Object} */ function findQuery(name, pattern, source) { if (source) { if (name) { return findQueryByString(source, 'Name', name) } if (Array.isArray(pattern)) { return findQueryByArray(source, 'Pattern', pattern) } } throw new MissingInformation('name or pattern') } /** * Retrieves data from resource by name. * @param {String} name name of chord * @throws {DataNotFound} * @returns {Object} */ function findQueryByString(source, key, query) { const result = source.find(listing =&gt; listing[key] == query) if (!result) { throw new DataNotFound(query) } return result } /** * Retrieves data from resource by Array. * if not found returns object with * name: unknown * key: query * @param source * @param key * @param query * @returns {Object} */ function findQueryByArray(source, key, query) { const result = source.find( listing =&gt; JSON.stringify(JSON.parse(listing[key])) == JSON.stringify(query), ) if (!result) { return { Name: '', Pattern: JSON.stringify(query), } } return result } export {firstToUpper, twoDigitFormat, findQuery} × Search results Close Music "},"utilities_ScientificFuncs.js.html":{"id":"utilities_ScientificFuncs.js.html","title":"Source: utilities/ScientificFuncs.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: utilities/ScientificFuncs.js const semitone = Math.pow(2, 1 / 12) /** * Calculate the frequency of a note by its octave and index out of all notes(c, c#, etc...). * @returns {Number} */ function freqFromPitch(pitch) { const oct = pitch.octave - 4 //calculate octave difference return Math.pow(semitone, pitch.classIndex - 9 + oct * 12) * 440 } /** * Generate real number from frequency. * @param frequency * @return {number} */ function realNumberFromFreq(frequency) { return Math.round(69 + 12 * Math.log2(frequency / 440)) } /** * Generate frequency from real number. * @param realNumber * @return {Number} */ function freqFromRealNumber(realNumber) { return 440 * (Math.pow(2, (realNumber - 69) / 12)) } export { freqFromPitch, realNumberFromFreq, freqFromRealNumber, } × Search results Close Music "},"utilities_MusicalAddons.js.html":{"id":"utilities_MusicalAddons.js.html","title":"Source: utilities/MusicalAddons.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: utilities/MusicalAddons.js import {Note} from '../' import {MusicTheoryStructures as mts} from '../resources/MusicTheoryStructures' import {Pitch} from '../models/Pitch' /** * Returns the duration value of the note with the shortest duration out of an array of notes. * @param {Array} notes * @returns {Number} */ function getMinDuration(notes = []) { if (notes.length) { let min notes.forEach(note =&gt; { min = min &lt; mts.noteDurations[note.duration] ? min : mts.noteDurations[note.duration] }) return min } return 0 } /** * Calculate the pure interval(not considering octave) between 2 notes(in semitones). * @param {Pitch} n1 first note * @param {Pitch} n2 second note * @returns {Number} */ const notesDistance = (n1, n2) =&gt; { const i1 = n1.classIndex, i2 = n2.classIndex return i1 - i2 &lt; 0 ? Math.abs(i1 - i2) : 12 - (i1 - i2) } /** * Play a group of notes melodically. * if resolve is true the melody will resolve to the tonic in higher octave. * @param {Array} notes array of playable notes * @param {Number} timeInterval * @param {boolean} [resolve = false] whether to resolve to tonic */ const playMelodically = (notes, timeInterval, resolve = false) =&gt; { notes.forEach((note, i) =&gt; { setTimeout(() =&gt; note.play(), i * timeInterval) }) if (resolve) { setTimeout( () =&gt; notes[0].interval(12).play(), notes.length * timeInterval, ) } } export {getMinDuration, playMelodically, notesDistance} × Search results Close Music "},"notation_Measure.js.html":{"id":"notation_Measure.js.html","title":"Source: notation/Measure.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: notation/Measure.js import {getMinDuration, MusicTheoryStructures as mts} from '../' /** * Represents a single measure as part of a musical piece in musical notation. * @class */ export class Measure { /** * Creates a Measure instance * @param {Number} [maxDuration=0] Max duration of the measure(decided by time signature) */ constructor(maxDuration = 0) { const attributes = {} attributes.noteSets = [] attributes.maxDuration = maxDuration attributes.duration = 0 this.attributes = attributes } /** * */ get noteSets() { return this.attributes.noteSets } /** * get the duration */ get duration() { return this.attributes.duration } /** * set the duration */ set duration(duration) { this.attributes.duration = duration } get maxDuration() { return this.attributes.maxDuration } isFull() { return this.duration === this.maxDuration &amp;&amp; this.maxDuration !== 0 } /** * Change notes somewhere inside a measure * @param {Array} set The new set. * @param {Number} i The index of the set to replace with. */ changeSet(set, i) { this.noteSets.splice(i, 1, set) } mutateSet(set, i) { set.forEach(note =&gt; this.noteSets[i].push(note)) } changeNote(note, noteIndex, setIndex) { this.noteSets[setIndex].splice(noteIndex, 1, note) } clone() { const clone = new Measure(this.maxDuration) const noteSets = this.noteSets.map(set =&gt; ([...set])) clone.pushSets(noteSets) return clone } get durationLeft() { return this.maxDuration - this.duration } /** * Push notes to a measure * @param {Array} notes array of notes */ pushSet(set = []) { let valid = [] set.forEach(note =&gt; { if ( mts.noteDurations[note.duration] &lt;= this.durationLeft || this.maxDuration === 0 ) { valid.push(note) } }) if (valid.length) { this.noteSets.push(valid) } this.duration += getMinDuration(valid) } /** * Add sets to the end of the measure * @param {Array} noteSets array of sets */ pushSets(noteSets) { noteSets.forEach(set =&gt; this.pushSet(set)) } insertSet(set, index = this.noteSets.length) { if (this.noteSets.length &gt;= index) { let valid = [] set.forEach(note =&gt; { if ( mts.noteDurations[note.duration] &lt;= this.durationLeft || this.maxDuration === 0 ) { valid.push(note) } }) if (valid.length) { this.noteSets.splice(index, 0, valid) } this.duration += getMinDuration(valid) } } deleteNoteSet(noteSetIndex) { this.duration -= getMinDuration(this.noteSets[noteSetIndex]) this.noteSets.splice(noteSetIndex, 1) } deleteNote(noteIndex, noteSetIndex) { if (this.noteSets[noteSetIndex]) { if (this.noteSets[noteSetIndex][noteIndex]) { this.noteSets[noteSetIndex].splice(noteIndex, 1) } } } transpose(interval) { const transposedSets = this.noteSets.map(set =&gt; set.map(note =&gt; note.interval(parseInt(interval))), ) const transposedMeasure = new Measure(this.maxDuration) transposedMeasure.pushSets(transposedSets) return transposedMeasure } toString() { let string = 'Measure: {' this.noteSets.forEach(set =&gt; { string += 'Notes: [' set.forEach(note =&gt; (string += ' ' + note.toString() + ',')) string += ' ], ' }) string += '} ' return string } } × Search results Close Music "},"resources_MusicTheoryStructures.js.html":{"id":"resources_MusicTheoryStructures.js.html","title":"Source: resources/MusicTheoryStructures.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: resources/MusicTheoryStructures.js /** * @classdesc Contains music theory structures and databases * e.g pitch classes, interval names, scales and more. */ export class MusicTheoryStructures { static get circleOfFourths() { return ['C', 'F', 'Bb', 'Eb', 'Ab', 'Db', 'Gb'] } static get circleOfFifths() { return ['C', 'G', 'D', 'A', 'E', 'B', 'F#'] } static get sharpClassNotes() { return ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'] } static get flatClassNotes() { return ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'] } static getPitchClassSet(set) { if (set === '#') { return MusicTheoryStructures.sharpClassNotes } if (set === 'b') { return MusicTheoryStructures.flatClassNotes } return null } static get pitchClasses() { return [ 'C', 'C#', 'Db', 'D', 'D#', 'Eb', 'E', 'F', 'F#', 'Gb', 'G', 'G#', 'Ab', 'A', 'A#', 'Bb', 'B', ] } static get intervals() { return { U: 0, m2: 1, M2: 2, m3: 3, M3: 4, P4: 5, aug4: 6, dim5: 6, P5: 7, m6: 8, M6: 9, m7: 10, M7: 11, P8: 12, } } static get noteDurations() { return { '1': 16, '2n': 8, '4n': 4, '8n': 2, '16n': 1, } } static get degrees() { return { major: [ 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', ], minor: [ 'i', 'ii', 'iii', 'iv', 'v', 'vi', 'vii', 'viii', 'ix', 'x', 'xi', ], } } static get NamedScales() { return require('../resources/NamedScales.json') } static get HeptatonicScales() { return require('../resources/HeptatonicScales.json') } static get HexatonicScales() { return require('../resources/HexatonicScales.json') } static get OctatonicScales() { return require('../resources/OctatonicScales.json') } static get AboveOctaScales() { return require('../resources/AboveOctaScales.json') } static get PentatonicScales() { return require('../resources/PentatonicScales.json') } static get TheoreticalScales() { return require('../resources/TheoreticalScales.json') } static get allScales() { return require('../resources/allScales.json') } static get ClassicScales() { return require('../resources/ClassicScales.json') } static get Chords() { return require('../resources/Chords.json') } } × Search results Close Music "},"models_Note.js.html":{"id":"models_Note.js.html","title":"Source: models/Note.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/Note.js import {Pitch} from './Pitch' import {OctaveRule} from '../validation/OctaveRule' /** * @class * @classdesc Represents an abstract musical note. * @example * const n = new Note({note: 'c', octave: 3, duration: '4n', instrument: 'Piano'}) */ export class Note extends Pitch { /** * @param {Object} attributes Object that contains some or all of the following keys: * @param {String} attributes.pitchClass one of the pitch classes('c', 'd', etc...) * @param {number} attributes.octave note octave * @param {String} attributes.duration note duration */ constructor({pitchClass, octave, duration}) { super(pitchClass, octave) OctaveRule.validateAudible(octave) this.attributes.duration = duration } /** * Get the duration of a note * @type {String} */ get duration() { return this.attributes.duration } /** * Gets interval size (Number) and returns a new instance of a note * which is calculated by the musical interval formula. * @example * let c = new Note({note:'c', octave:3}) //create a C3 note. * let interval = c.interval(4) //calling the function with the number 4(which is a major third). * console.log(interval.toStrring()) //should output 'E3'. * console.log(interval.constructor.name) //should output Note. * @param {number} interval Musical Interval */ interval(interval) { const newPitch = super.interval(interval) return new Note({ pitchClass: newPitch.pitchClass, octave: newPitch.octave, duration: this.duration, }) } /** * Alias for interval() * @param {Number} interval */ transpose(interval) { return this.interval(interval) } /** * Returns a string of the note. * @returns {string} */ toString() { return `${super.toString()}` } } × Search results Close Music "},"validation_OctaveRule.js.html":{"id":"validation_OctaveRule.js.html","title":"Source: validation/OctaveRule.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: validation/OctaveRule.js import {InvalidInput} from '../Exceptions' const zeroNotes = ['B', 'Bb', 'A#', 'A'] /** * @classdesc Rules for validating Octave * @class */ export class OctaveRule { constructor(value, pitchClass = null) { this.value = value this.pitchClass = pitchClass } playable() { return this.value &gt; 0 &amp;&amp; this.value &lt; 8 } playableWithNote() { return this.isLowest() || this.isHighest() } isHighest() { return this.value === 0 &amp;&amp; this.pitchClass === 'C' } isLowest() { return this.value === 8 &amp;&amp; zeroNotes.includes(this.pitchClass) } notInteger() { return this.value !== parseInt(this.value) } static validateAudible(value, pitchClass) { const validator = new this(value, pitchClass) return validator.playable() || validator.playableWithNote() } static validatePossible(value) { const validator = new this(value) if (validator.notInteger()) { throw new InvalidInput(value) } } } × Search results Close Music "},"utilities_Paginator.js.html":{"id":"utilities_Paginator.js.html","title":"Source: utilities/Paginator.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: utilities/Paginator.js /** * Pagination logic handling. */ export class Paginator { /** * Creates a new Paginator instance. * @param {Number} [offset=50] * @param {Array} [data=[]] */ constructor(offset = 50, data = []) { this.atts = { offset, data, page: 1, } } /** * Returns the paginator offset. * @returns {Number} */ get offset() { return this.atts.offset } /** * Sets the paginator offset. * @param {Number} offset */ set offset(offset) { this.atts.offset = offset this.page = 1 } /** * if called with parameter sets the paginator data, * Retrieves the data from the current paginator page. * @param {Array} [data = null] * @returns {Array} */ data(data = null) { if (data) { this.atts.data = data this.page = 1 } return this.atts.data.slice(this.pageStart, this.pageEnd) } /** * Get the current paginator page. * @returns {Number} */ get page() { return this.atts.page } /** * Sets the current paginator page. */ set page(page) { this.atts.page = this.inPageRange(page) ? page : 1 } /** * Returns the overall number of pages. * @returns {Number} */ get pages() { return Math.ceil(this.atts.data.length / this.offset) } /** * Returns the page start index. * @returns {Number} * @protected */ get pageStart() { return this.offset * (this.page - 1) } /** * Returns the page end index. * @returns {Number} * @protected */ get pageEnd() { const end = this.offset * this.page const maxLen = this.atts.data.length return end &lt; maxLen ? end : maxLen } /** * Checks whether a page is valid. * @param {Number} page * @returns {boolean} */ inPageRange(page) { return page &lt; 1 || page &gt; this.pages ? false : true } /** * Checks if there's a next page. * @returns {boolean} */ hasNext() { return this.pageEnd + 1 &lt; this.atts.data.length } /** * Checks if there's a previous page. * @returns {boolean} */ hasPrevious() { return this.pageStart !== 0 } /** * Advances to the next page. */ next() { this.page++ } /** * Goes to the previous page. */ previous() { this.page-- } } × Search results Close Music "},"instruments_Piano.js.html":{"id":"instruments_Piano.js.html","title":"Source: instruments/Piano.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: instruments/Piano.js import {firstToUpper, PlayableNote, MusicTheoryStructures as mts} from '../' const pianoNotes = require('../resources/PianoNotes.json') /** * @classdesc Piano instance - creates a piano that can play any note from any octave in any duration. * @class */ export class Piano { /** * initializes the piano object with all piano notes. */ constructor() { this.piano = new Map() Object.entries(pianoNotes).forEach(([octave, pitchClassArray]) =&gt; { pitchClassArray.forEach(pitchClass =&gt; Object.keys(mts.noteDurations).forEach(duration =&gt; this.setKey(pitchClass, Number(octave), duration), )) }) } /** * Binds a note to the piano map object. * @param {String} pitchClass * @param {Number} octave * @param {String} duration * @private */ setKey(pitchClass, octave, duration) { this.piano.set(pitchClass + octave + duration, new PlayableNote({ pitchClass, octave, duration, instrument: 'Piano', })) } /** * Gets a string consisting of: * 1. The note * 2. The octave * 3. The duration * returns a Note object with the parameters and \"Piano\" as the instrument * @param {String} note * @returns {PlayableNote} * @example * const C = piano.note('c34n') // C is now a Note object * C.play() // Plays the note */ note(note) { return this.piano.get(firstToUpper(note)) } } × Search results Close Music "},"notation_Piece.js.html":{"id":"notation_Piece.js.html","title":"Source: notation/Piece.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: notation/Piece.js import {Measure, twoDigitFormat, getMinDuration, Drums} from '../' import Tone from 'tone' export class Piece { constructor(bpm = 120, timeSignature = [4, 4]) { const attributes = {} attributes.transport = Tone.Transport attributes.transport.bpm.value = bpm attributes.transport.loop = true attributes.transport.timeSignature = timeSignature attributes.current = null attributes.measures = [] attributes.noteSets = [] attributes.duration = 0 this.metronome = new Drums() this.isMetronome = false this.beat = 0 this.noteSetIndex = -1 this.measureIndex = 0 this.attributes = attributes } /** * get the duration */ get duration() { return twoDigitFormat(this.attributes.duration) } get transport() { return this.attributes.transport } set duration(d) { this.attributes.duration = d } get bpm() { return this.transport.bpm.value } set bpm(bpm) { this.transport.bpm.value = bpm } get timeSignature() { return this.transport.timeSignature } set timeSignature(timeSignature) { this.transport.timeSignature = timeSignature } get measures() { return this.attributes.measures } set measures(measures) { this.attributes.measures = measures } get noteSets() { return this.attributes.noteSets } set noteSets(setsArr) { this.attributes.noteSets = setsArr } get current() { return this.attributes.current } set current(curr) { this.attributes.current = curr } getBeat() { return this.beat } getNoteSetIndex() { return this.noteSetIndex } getMeasureIndex() { return this.measureIndex } pushMeasure(measure) { if (measure instanceof Measure) { this.measures.push(measure) this.duration += measure.duration measure.noteSets.forEach(set =&gt; this.noteSets.push(set)) } } pushMeasures(measures) { measures.forEach(measure =&gt; this.pushMeasure(measure)) } insertMeasure(measure, index) { if (measure instanceof Measure) { this.measures.splice(index, 0, measure) measure.noteSets.forEach((set, i) =&gt; { this.noteSets.splice(index + i, 0, set) }) } } noteSetsUpToMeasure(measureIndex) { let length = 0 for (let i = 0; i &lt; measureIndex; i++) length += this.measures[i].noteSets.length return length } insertNoteSet(noteSet, noteSetIndex, measureIndex = this.measures.length) { if (this.measures.length &gt;= measureIndex) { if (this.measures.length === measureIndex) { return this.pushNoteSet(noteSet) } } this.measures[measureIndex].insertSet(noteSet, noteSetIndex) this.noteSets.splice( noteSetIndex + this.noteSetsUpToMeasure(measureIndex), 0, noteSet, ) } deleteMeasure(i) { if (this.measures[i]) { this.duration -= this.measures[i].duration this.noteSets.splice( this.noteSetsUpToMeasure(i), this.measures[i].noteSets.length, ) this.measures.splice(i, 1) } } pop() { this.measures.pop() } changeSet(set, setIndex, measureIndex) { this.measures[measureIndex].changeSet(set, setIndex) } mutateSet(set, setIndex, measureIndex) { this.measures[measureIndex].mutateSet(set, setIndex) } changeNote(note, noteIndex, setIndex, measureIndex) { this.measures[measureIndex].changeNote(note, noteIndex, setIndex) } pushNoteSet(noteSet) { const len = this.measures.length - 1 if (!(len + 1) || this.measures[len].isFull()) { const measure = new Measure(16) measure.insertSet(noteSet) this.pushMeasure(measure) } else { this.measures[len].insertSet(noteSet) this.noteSets.push(noteSet) } } cloneMeasure(measureIndex) { const clone = this.measures[measureIndex].clone() this.measures.splice(measureIndex, 0, clone) } deleteNoteSet(noteSetIndex, measureIndex) { if (this.measures[measureIndex]) { this.noteSets.splice( noteSetIndex + this.noteSetsUpToMeasure(measureIndex), 1, ) this.measures[measureIndex].deleteNoteSet(noteSetIndex) } } deleteNote(noteIndex, noteSetIndex, measureIndex) { if (this.measures[measureIndex]) { if (this.measures[measureIndex]) { this.noteSets[ noteSetIndex + this.noteSetsUpToMeasure(measureIndex) ].splice(noteIndex, 1) this.measures[measureIndex].deleteNote(noteIndex, noteSetIndex) } } } isPlaying() { return this.transport.state } toString() { let string = 'Piece: { ' this.measures.forEach(m =&gt; (string += m.toString() + ', ')) string += '} ' return string } transpose(interval) { this.measures = this.measures.map(m =&gt; m.transpose(interval)) } play(startTime = 0) { if (this.transport.state === 'stopped') { this.transport.loopEnd = this.measures.length + 'm' this.beat = 0 this.measures.forEach((measure, measureIndex) =&gt; { let setTime = 0 measure.noteSets.forEach((set, setIndex) =&gt; { set.forEach(note =&gt; this.transport.schedule(time =&gt; { note.play() this.noteSetIndex = setIndex this.measureIndex = measureIndex }, `${measureIndex}:0:${setTime}`), ) setTime += getMinDuration(set) }) }) this.transport.scheduleRepeat(time =&gt; { if ( this.transport.position[0] &gt; this.measures.length - 1 &amp;&amp; !this.transport.loop ) { this.transport.stop() this.transport.cancel() } this.beat += 1 if (this.isMetronome) { this.metronome.play() } if (this.beat &gt; 4) { this.beat = 1 } }, '4n') this.transport.start() } else { this.transport.stop() this.transport.cancel() this.noteSetIndex = -1 } } } × Search results Close Music "},"models_Pitch.js.html":{"id":"models_Pitch.js.html","title":"Source: models/Pitch.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/Pitch.js import {MusicTheoryStructures as mts} from '../' import {PitchClass} from './PitchClass' import {OctaveRule} from '../validation/OctaveRule' import {realNumberFromFreq} from '../utilities/ScientificFuncs' /** * @classdesc A pitch class, representing a pitch class and an octave. * @extends PitchClass */ export class Pitch extends PitchClass { /** * Creates a new Pitch instance. * @param pitchClass * @param octave */ constructor(pitchClass, octave) { OctaveRule.validatePossible(octave) super(pitchClass) this.attributes.octave = octave } /** * Generates a new pitch from frequency. * @param frequency * @returns {Pitch} */ static fromFrequency(frequency) { const n = realNumberFromFreq(frequency) const pitchClass = mts.sharpClassNotes[n % 12] const octave = Math.floor(n / 12 - 1) return new Pitch(pitchClass, octave) } /** * Returns the octave of the pitch. * @type {String} */ get octave() { return this.attributes.octave } /** * Gets interval size and returns new pitch instance * which is calculated by the musical interval formula. * @example * let c = new Note({note:'c', octave:3}) //create a C3 note. * let interval = c.interval(4) //calling the function with the number 4(which is a major third). * console.log(interval.toStrring()) //should output 'E3'. * console.log(interval.constructor.name) //should output Note. * @param {number} interval Musical Interval */ interval(interval) { let octDiff = Math.floor((this.classIndex + interval) / 12) let pitchClass if (interval &gt;= 0) { pitchClass = mts.getPitchClassSet(this.classSet)[(this.classIndex + interval) % 12] } else { octDiff = this.classIndex + interval &lt; 0 ? octDiff : 0 pitchClass = mts.getPitchClassSet(this.classSet)[Math.abs((this.classIndex + (12 + (interval % 12))) % 12)] } return new Pitch(pitchClass, this.octave + octDiff) } /** * Returns a string of the pitch class and octave of the pitch. * @returns {string} */ toString() { return `${super.toString()}${this.octave}` } } × Search results Close Music "},"models_PitchClass.js.html":{"id":"models_PitchClass.js.html","title":"Source: models/PitchClass.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/PitchClass.js import {MusicTheoryStructures as mts, firstToUpper} from '..' import {PitchClassRule} from '../validation/PitchClassRule' /** * @classdesc Represents a pitch class. */ export class PitchClass { /** * Creates a new pitch class instance. * @param pitchClass */ constructor(pitchClass) { const attributes = {} PitchClassRule.existingClass(pitchClass) attributes.pitchClass = firstToUpper(pitchClass) attributes.classSet = mts.circleOfFourths.includes(attributes.pitchClass) ? 'b' : '#' attributes.classIndex = mts.getPitchClassSet(attributes.classSet).indexOf(attributes.pitchClass) this.attributes = attributes } /** * Returns the pitch class. * @type {String} */ get pitchClass() { return this.attributes.pitchClass } /** * Get the set of the pitch class - sharp or flat. * @type {String} */ get classSet() { return this.attributes.classSet } set classSet(set){ this.attributes.classSet = set } /** * Get the index of the pitch class out of the 12 classes (C, Db, etc...). * @type {Number} */ get classIndex() { return this.attributes.classIndex } /** * Returns string of the pitch class. * @returns {String} */ toString() { return this.pitchClass} } × Search results Close Music "},"validation_PitchClassRule.js.html":{"id":"validation_PitchClassRule.js.html","title":"Source: validation/PitchClassRule.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: validation/PitchClassRule.js import {MusicTheoryStructures as mts} from '../resources/MusicTheoryStructures' import {InvalidInput} from '../Exceptions' const validNotes = mts.pitchClasses.concat(mts.pitchClasses.map(pitchcls =&gt; pitchcls.toLowerCase())) /** * @classdesc Rules for validating a pitchClass * @class */ export class PitchClassRule { /** * Check if pitch class exists. * @param {String} pitchCls pitch class to validate * @throws {InvalidInput} * @returns {Boolean} */ static existingClass(pitchCls) { if (validNotes.includes(pitchCls)) { return true } throw new InvalidInput(pitchCls) } } × Search results Close Music "},"models_PlayableNote.js.html":{"id":"models_PlayableNote.js.html","title":"Source: models/PlayableNote.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/PlayableNote.js import {Note, AudioManager} from '../' import {NoteBuilder} from './NoteBuillder' const audioManager = new AudioManager() /** * @classdesc Represents a note that can be played by an instrument. * @extends Note */ export class PlayableNote extends Note { /** * Creates a new PlayableNote instance. * @param pitchClass * @param octave * @param duration * @param instrument */ constructor({pitchClass, octave, duration, instrument}) { super({pitchClass, octave, duration}) this.attributes.instrument = instrument audioManager.setNote(this) } /** * Returns the audio manager that handles note playing. * @returns {AudioManager} */ static get audioManager() { return audioManager } /** * Get the instrument that plays the note * @type {String} */ get instrument() { return this.attributes.instrument } /** * Gets interval size (Number) and returns a new instance of a note * which is calculated by the musical interval formula. * @example * let c = new Note({note:'c', octave:3}) //create a C3 note. * let interval = c.interval(4) //calling the function with the number 4(which is a major third). * console.log(interval.toStrring()) //should output 'E3'. * console.log(interval.constructor.name) //should output Note. * @param {number} interval Musical Interval */ interval(interval) { const newNote = super.interval(interval) return new PlayableNote({ pitchClass: newNote.pitchClass, octave: newNote.octave, duration: newNote.duration, instrument: this.instrument, }) } /** * Alias for interval() * @param {Number} interval */ transpose(interval) { const newPlayableNote = super.interval(interval) return new PlayableNote({...newPlayableNote.attributes, instrument: this.instrument}) } /** * TODO test with mock * Play the note. */ play() { const key = AudioManager.getKey(this) audioManager.playSound(key) } /** * Returns a new PlayableNote instance with the new duration. * @param duration */ setDuration(duration) { return (new NoteBuilder({ pitchClass: this.pitchClass, octave: this.octave, duration, instrument: this.instrument, })).build() } /** * Returns a new PlayableNote instance with the new octave. * @param octave */ setOctave(octave) { return (new NoteBuilder({ pitchClass: this.pitchClass, octave, duration: this.duration, instrument: this.instrument, })).build() } } × Search results Close Music "},"models_Scale.js.html":{"id":"models_Scale.js.html","title":"Source: models/Scale.js","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Source: models/Scale.js import {MissingInformation} from './../Exceptions' import {findQuery} from '../utilities/Addons' import {notesDistance, Chord, playMelodically} from '../' const scales = require('../resources/allScales.json') /** * General Scale * @class * @classdesc Represents a musical scale - a series of notes following a specific pattern from a note(the tonic) which * forms chords and can be used to compose infinite melodies. * &lt;b&gt;Either Name or Pattern must be provided!&lt;/b&gt; * @throws {MissingInformation} When not provided with tonic and either name or pattern * @throws {DataNotFound} When called with name and the name cant be found in the database. * @example * const c = new Note({note: 'c'}) * const C_Major_by_pattern = new Scale({tonic:c, pattern: [0, 2, 4, 5, 7, 9, 11]}) // new C major scale. * const C_minor_by_name = new Scale({tonic:c, name: 'Minor'}) // new C major scale // new C minor scale. */ export class Scale { /** * @param {String/Note} tonic * @param {Array} pattern * @constructor */ constructor({tonic, name, pattern}) { this.attributes = {} if (!tonic) { throw new MissingInformation('tonic') } this.attributes.info = findQuery(name, pattern, scales) this.attributes.notes = [] this.semitones.forEach(interval =&gt; this.notes.push(tonic.interval(interval)), ) // Scale.validateDiatonicScale(this.pitchClasses) if (Scale.validateDiatonicScale(this.pitchClasses) &amp;&amp; this.notes.length &lt;= 7) { console.log(this.name) console.log(this.pitchClasses) tonic.classSet = tonic.classSet === 'b' ? '#' : 'b' this.notes.length = 0 this.semitones.forEach(interval =&gt; this.notes.push(tonic.interval(interval)), ) console.log(this.pitchClasses) console.log('OMG') } this.attributes.chords = null } static validateDiatonicScale(pitchClasses) { const valid = ['C', 'D', 'E', 'F', 'G', 'A', 'B'] const count = new Array(7).fill(0) pitchClasses.forEach(pc =&gt; { count[valid.indexOf(pc[0])]++ }) return count.some(c =&gt; c &gt; 1) } /** * Gets an array of notes and returns a array of chords generated by the root + * the note 2 degrees up + * the note 4 degrees up * @param {Array} notes array of notes * @param {Boolean} seventh whether to create a 7th chord * @returns {Array} */ static chordsFromNotes(notes, seventh = false) { const chords = [] notes.forEach((root, index) =&gt; { let pattern = [ notesDistance(root, notes[(index + 2) % notes.length]), notesDistance(root, notes[(index + 4) % notes.length]), ] if (seventh) { pattern = pattern.concat(notesDistance(root, notes[(index + 6) % notes.length])) } chords.push(new Chord({root, pattern})) }) return chords } /** * returns array that contains all the notes in the pattern. */ get notes() { return this.attributes.notes } /** * Returns the pattern for the scale as an array using semi-tone notation. * @type {Array} */ get semitones() { return JSON.parse(this.attributes.info['Pattern']) } /** * Returns the scale name. * @type {*} */ get name() { return this.attributes.info['Name'] } /** * Returns other name of the scale. * @returns {*|string} */ get otherNames() { const aka = this.attributes.info['AKA'] return aka || 'No other names' } /** * Returns the chords of the scale in an array, calculated by taking each note, * then skipping one note and taking the next, etc...to form the Chord. * @type {Array} */ get chords() { if (!this.attributes.chords) { this.attributes.chords = Scale.chordsFromNotes(this.notes) } return this.attributes.chords } /** * Returns the chords of the scale in an array, calculated by taking each note, * then skipping one note and taking the next, etc...to form the Chord. * @type {Array} */ get seventhChords() { if (!this.attributes.seventhChords) { this.attributes.seventhChords = Scale.chordsFromNotes(this.notes, true) } return this.attributes.seventhChords } /** * Returns a string of all the pitch class names in the scale. * @type{string} */ get pitchClassNamesString() { let str = '' this.notes.forEach(note =&gt; (str += note.pitchClass + ', ')) return str } /** * Returns an array of the pitch classes in the scale. * @type {Array} */ get pitchClasses() { const pClasses = [] this.notes.forEach(note =&gt; pClasses.push(note.pitchClass)) return pClasses } /** * Returns a string of the pitch class names and octaves of the scale. * @type{string} */ get pitchNamesString() { let str = '' this.notes.forEach(note =&gt; (str += note.toString() + ', ')) return str } /** * returns the name of the scale. * @returns {String} */ toString() { return `${this.notes[0].pitchClass} ${this.name}` } /** * Returns the degree inside the Scale. * for example - if the Scale is a C Major, * than interval(1) wiil return D. * @param {Number} degree */ degree(degree) { return this.notes[degree - 1] } /** * Returns the chord that fits the scale degree note. * @param degree * @return {*} */ chord(degree) { return this.chords[degree - 1] } /** * Play the scale melodically. */ play() { playMelodically(this.notes, 400, true) } } × Search results Close Music "},"global.html":{"id":"global.html","title":"Global","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Global Methods findQuery( [name] [, pattern], source) Gets either a name, a pattern, or nothing.checks which one it gotand tries to find it in the source. Parameters: Name Type Argument Description name String &lt;optional&gt; name pattern Array &lt;optional&gt; pattern source Object the source to search in Source: utilities/Addons.js, line 30 Throws: MissingInformation Returns: Type Object findQueryByArray(source, key, query) Retrieves data from resource by Array.if not found returns object withname: unknownkey: query Parameters: Name Type Description source key query Source: utilities/Addons.js, line 66 Returns: Type Object findQueryByString(name) Retrieves data from resource by name. Parameters: Name Type Description name String name of chord Source: utilities/Addons.js, line 48 Throws: DataNotFound Returns: Type Object firstToUpper(str) Transforms the first letter of a string to upper case. Parameters: Name Type Description str String String to transform Source: utilities/Addons.js, line 9 Returns: Type String freqFromPitch() Calculate the frequency of a note by its octave and index out of all notes(c, c#, etc...). Source: utilities/ScientificFuncs.js, line 7 Returns: Type Number freqFromRealNumber(realNumber) Generate frequency from real number. Parameters: Name Type Description realNumber Source: utilities/ScientificFuncs.js, line 26 Returns: Type Number getMinDuration(notes) Returns the duration value of the note with the shortest duration out of an array of notes. Parameters: Name Type Description notes Array Source: utilities/MusicalAddons.js, line 10 Returns: Type Number notesDistance(n1, n2) Calculate the pure interval(not considering octave) between 2 notes(in semitones). Parameters: Name Type Description n1 Pitch first note n2 Pitch second note Source: utilities/MusicalAddons.js, line 30 Returns: Type Number playMelodically(notes, timeInterval [, resolve]) Play a group of notes melodically.if resolve is true the melody will resolve to the tonic in higher octave. Parameters: Name Type Argument Default Description notes Array array of playable notes timeInterval Number resolve boolean &lt;optional&gt; false whether to resolve to tonic Source: utilities/MusicalAddons.js, line 43 realNumberFromFreq(frequency) Generate real number from frequency. Parameters: Name Type Description frequency Source: utilities/ScientificFuncs.js, line 17 Returns: Type number twoDigitFormat(num) Returns a number formatted to show only 2 digits after the decimal point. Parameters: Name Type Description num Number Source: utilities/Addons.js, line 18 Returns: Type Number × Search results Close Music "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Classes Classes AudioManager Chord Measure MusicTheoryStructures Note OctaveRule Paginator Piano Pitch PitchClass PitchClassRule PlayableNote Scale × Search results Close Music "},"index.html":{"id":"index.html","title":"Index","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Note-Art JSA Work in Progress Demo | Repo Some Notes about the project: I work on this library all by myself(About Me). This project aims to create a library that implements all of music theory(in all it's forms) in code,and can be used to play sounds of most musical instruments. This libraries main purpose is to aid me in creating the ultimate platform for musicians - Musitelligence, which is already online and has some nice tools availble. You can use this library for creating tools for music, researching music theory or just creating music with programming. Currently the only availble instrument is piano, the audio files are being loaded from a server i run on heroku. If you feel like helping or supporting you can - Email me at seandvir12@gmail.com with your ideas and recommendations. Support me on patreon. Download my app - Scale Heaven on google play(and press the banner once in a while ;) Make a pull request. Some examples:// PlayableNote const A = new PlayableNote({note: 'a', octave: 4}) A.play() //note is played console.log(A.frequency) // outputs 440 const fourth = A.interval(5) // fourth is the note E with octave 5 console.log(A.toString()) // outputs: A4 //Chord const A_M = new Chord({note: A, name: 'Major'}) A_M.play() // Chord is played //Scale const A_Major = new Scale({tonic: A, name: 'Major'}) console.log(A_Major.pitchClasses()) // outputs the notes in the scale //Playable-Notes also have a duration and instrument properties which default to '4n' and 'Piano'. //There are also Un-playable models such as PitchClass, Pitch, Note which //cant be played and might be used for general music theory research. × Search results Close Music "},"AudioManager.html":{"id":"AudioManager.html","title":"Class: AudioManager","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: AudioManager AudioManager A singleton class which handles all file requests,uses ToneJS as the audio library. new AudioManager() Should never be called Source: utilities/AudioManager.js, line 11 Methods &lt;static&gt; getAudioManager() Singleton implementation. Source: utilities/AudioManager.js, line 23 &lt;static&gt; getKey(note) Calculates a specific note's key. Parameters: Name Type Description note PlayableNote Source: utilities/AudioManager.js, line 51 &lt;static&gt; normalizeSet(pitchClass, classSet) Trnasforms notes of type '#' to 'b' in order to access the file's name. Parameters: Name Type Description pitchClass classSet Source: utilities/AudioManager.js, line 38 Returns: Type String getPlayer(playableNote) Get a note's Player. Parameters: Name Type Description playableNote PlayableNote Source: utilities/AudioManager.js, line 79 Returns: Type Tone.Player playSound(key) Play sound by player key. Parameters: Name Type Description key String Player key. Source: utilities/AudioManager.js, line 98 setNote(pn) Add a note to the map. Parameters: Name Type Description pn PlayableNote Source: utilities/AudioManager.js, line 60 setSound(fliepath, key) Create a player for some sound. Parameters: Name Type Description fliepath key Source: utilities/AudioManager.js, line 88 × Search results Close Music "},"Chord.html":{"id":"Chord.html","title":"Class: Chord","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Chord Chord Represents a musical Chord - a number of notes with a specificpattern which can be played together to form a harmonic sound. new Chord(attributes) Creates a Chord instance.Either Name or Pattern must be provided! Parameters: Name Type Description attributes Object Object that contains some of the following keys:{Note} root - chords root note{String} name - the chords name(by marking){Array} pattern - the pattern to build the chord by pitchIntervals Source: models/Chord.js, line 18 Throws: When not provided with root and either name or pattern Type MissingInformation When called with name and the name cant be found in the Type DataNotFound Example const c = new Note({note: 'c'}) const C_Maj_by_pattern = new Chord({root:c, pattern: [4, 7]}) // new C major chord. const C_min_by_name = new Chord({root:c, name: 'm'}) // new C minor chord. Members fullName :String Name of the chord. Type: String Source: models/Chord.js, line 57 name :String Marking of the chord. Type: String Source: models/Chord.js, line 65 notes :Array Array of the notes in the chord. Type: Array Source: models/Chord.js, line 49 octave :Number Returns chord root octave. Type: Number Source: models/Chord.js, line 73 pitchClasses Returns a string of the chord notes pitch classes. Source: models/Chord.js, line 171 pitchIntervals :Array Array of the intervals from the root to each note in the chord(excluding the root) Type: Array Source: models/Chord.js, line 81 Methods inversionFirst() Transforms the chord into its 1st-inversion. Source: models/Chord.js, line 148 inversionSecond() Transforms the chord into its 2st-inversion. Source: models/Chord.js, line 155 play() Play the chord. Source: models/Chord.js, line 103 playMelody() Play chord notes melodically. Source: models/Chord.js, line 110 rootPosition() Transforms the chord into its root position. Source: models/Chord.js, line 141 setDuration(duration) Generate the same chord with a new duration. Parameters: Name Type Description duration Source: models/Chord.js, line 119 Returns: Type Chord setOctave(octave) Generate the same chord with a new octave. Parameters: Name Type Description octave Source: models/Chord.js, line 131 Returns: Type Chord toString() Get a string of the chord's name. Source: models/Chord.js, line 163 Returns: Type String transpose(interval) Generates a new chord with the interval applied Parameters: Name Type Description interval Number the interval to apply Source: models/Chord.js, line 182 Returns: Type Chord × Search results Close Music "},"Measure.html":{"id":"Measure.html","title":"Class: Measure","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Measure Measure Represents a single measure as part of a musical piece in musical notation. new Measure( [maxDuration]) Creates a Measure instance Parameters: Name Type Argument Default Description maxDuration Number &lt;optional&gt; 0 Max duration of the measure(decided by time signature) Source: notation/Measure.js, line 7 Members duration set the duration Source: notation/Measure.js, line 38 duration get the duration Source: notation/Measure.js, line 31 noteSets Source: notation/Measure.js, line 24 Methods changeSet(set, i) Change notes somewhere inside a measure Parameters: Name Type Description set Array The new set. i Number The index of the set to replace with. Source: notation/Measure.js, line 55 pushSet(notes) Push notes to a measure Parameters: Name Type Description notes Array array of notes Source: notation/Measure.js, line 82 pushSets(noteSets) Add sets to the end of the measure Parameters: Name Type Description noteSets Array array of sets Source: notation/Measure.js, line 102 × Search results Close Music "},"MusicTheoryStructures.html":{"id":"MusicTheoryStructures.html","title":"Class: MusicTheoryStructures","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: MusicTheoryStructures MusicTheoryStructures Contains music theory structures and databasese.g pitch classes, interval names, scales and more. new MusicTheoryStructures() Source: resources/MusicTheoryStructures.js, line 5 × Search results Close Music "},"Note.html":{"id":"Note.html","title":"Class: Note","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Note Note Represents an abstract musical note. new Note(attributes) Parameters: Name Type Description attributes Object Object that contains some or all of the following keys: Properties Name Type Description pitchClass String one of the pitch classes('c', 'd', etc...) octave number note octave duration String note duration Source: models/Note.js, line 10 Example const n = new Note({note: 'c', octave: 3, duration: '4n', instrument: 'Piano'}) Members duration :String Get the duration of a note Type: String Source: models/Note.js, line 27 Methods interval(interval) Gets interval size (Number) and returns a new instance of a notewhich is calculated by the musical interval formula. Parameters: Name Type Description interval number Musical Interval Source: models/Note.js, line 39 Example let c = new Note({note:'c', octave:3}) //create a C3 note. let interval = c.interval(4) //calling the function with the number 4(which is a major third). console.log(interval.toStrring()) //should output 'E3'. console.log(interval.constructor.name) //should output Note. toString() Returns a string of the note. Source: models/Note.js, line 60 Returns: Type string transpose(interval) Alias for interval() Parameters: Name Type Description interval Number Source: models/Note.js, line 52 × Search results Close Music "},"OctaveRule.html":{"id":"OctaveRule.html","title":"Class: OctaveRule","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: OctaveRule OctaveRule Rules for validating Octave new OctaveRule() Source: validation/OctaveRule.js, line 9 × Search results Close Music "},"Paginator.html":{"id":"Paginator.html","title":"Class: Paginator","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Paginator Paginator Pagination logic handling. new Paginator( [offset] [, data]) Creates a new Paginator instance. Parameters: Name Type Argument Default Description offset Number &lt;optional&gt; 50 data Array &lt;optional&gt; [] Source: utilities/Paginator.js, line 4 Members offset Sets the paginator offset. Source: utilities/Paginator.js, line 30 offset Returns the paginator offset. Source: utilities/Paginator.js, line 22 page Sets the current paginator page. Source: utilities/Paginator.js, line 61 page Get the current paginator page. Source: utilities/Paginator.js, line 54 &lt;protected&gt; pageEnd Returns the page end index. Source: utilities/Paginator.js, line 87 pages Returns the overall number of pages. Source: utilities/Paginator.js, line 69 &lt;protected&gt; pageStart Returns the page start index. Source: utilities/Paginator.js, line 78 Methods data( [data]) if called with parameter sets the paginator data,Retrieves the data from the current paginator page. Parameters: Name Type Argument Default Description data Array &lt;optional&gt; null Source: utilities/Paginator.js, line 41 Returns: Type Array hasNext() Checks if there's a next page. Source: utilities/Paginator.js, line 106 Returns: Type boolean hasPrevious() Checks if there's a previous page. Source: utilities/Paginator.js, line 114 Returns: Type boolean inPageRange(page) Checks whether a page is valid. Parameters: Name Type Description page Number Source: utilities/Paginator.js, line 98 Returns: Type boolean next() Advances to the next page. Source: utilities/Paginator.js, line 121 previous() Goes to the previous page. Source: utilities/Paginator.js, line 128 × Search results Close Music "},"Piano.html":{"id":"Piano.html","title":"Class: Piano","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Piano Piano Piano instance - creates a piano that can play any note from any octave in any duration. new Piano() initializes the piano object with all piano notes. Source: instruments/Piano.js, line 9 Methods note(note) Gets a string consisting of: The note The octave The durationreturns a Note object with the parameters and \"Piano\" as the instrument Parameters: Name Type Description note String Source: instruments/Piano.js, line 51 Returns: Type PlayableNote Example const C = piano.note('c34n') // C is now a Note object C.play() // Plays the note × Search results Close Music "},"Pitch.html":{"id":"Pitch.html","title":"Class: Pitch","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Pitch Pitch A pitch class, representing a pitch class and an octave. new Pitch(pitchClass, octave) Creates a new Pitch instance. Parameters: Name Type Description pitchClass octave Source: models/Pitch.js, line 10 Extends PitchClass Members classIndex :Number Get the index of the pitch class out of the 12 classes (C, Db, etc...). Type: Number Inherited From: PitchClass#classIndex Source: models/PitchClass.js, line 42 classSet :String Get the set of the pitch class - sharp or flat. Type: String Inherited From: PitchClass#classSet Source: models/PitchClass.js, line 32 octave :String Returns the octave of the pitch. Type: String Source: models/Pitch.js, line 39 pitchClass :String Returns the pitch class. Type: String Inherited From: PitchClass#pitchClass Source: models/PitchClass.js, line 26 Methods &lt;static&gt; fromFrequency(frequency) Generates a new pitch from frequency. Parameters: Name Type Description frequency Source: models/Pitch.js, line 27 Returns: Type Pitch interval(interval) Gets interval size and returns new pitch instancewhich is calculated by the musical interval formula. Parameters: Name Type Description interval number Musical Interval Source: models/Pitch.js, line 51 Example let c = new Note({note:'c', octave:3}) //create a C3 note. let interval = c.interval(4) //calling the function with the number 4(which is a major third). console.log(interval.toStrring()) //should output 'E3'. console.log(interval.constructor.name) //should output Note. toString() Returns a string of the pitch class and octave of the pitch. Overrides: PitchClass#toString Source: models/Pitch.js, line 67 Returns: Type string × Search results Close Music "},"PitchClass.html":{"id":"PitchClass.html","title":"Class: PitchClass","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: PitchClass PitchClass Represents a pitch class. new PitchClass(pitchClass) Creates a new pitch class instance. Parameters: Name Type Description pitchClass Source: models/PitchClass.js, line 7 Members classIndex :Number Get the index of the pitch class out of the 12 classes (C, Db, etc...). Type: Number Source: models/PitchClass.js, line 42 classSet :String Get the set of the pitch class - sharp or flat. Type: String Source: models/PitchClass.js, line 32 pitchClass :String Returns the pitch class. Type: String Source: models/PitchClass.js, line 26 Methods toString() Returns string of the pitch class. Source: models/PitchClass.js, line 48 Returns: Type String × Search results Close Music "},"PitchClassRule.html":{"id":"PitchClassRule.html","title":"Class: PitchClassRule","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: PitchClassRule PitchClassRule Rules for validating a pitchClass new PitchClassRule() Source: validation/PitchClassRule.js, line 10 Methods &lt;static&gt; existingClass(pitchCls) Check if pitch class exists. Parameters: Name Type Description pitchCls String pitch class to validate Source: validation/PitchClassRule.js, line 17 Throws: InvalidInput Returns: Type Boolean × Search results Close Music "},"PlayableNote.html":{"id":"PlayableNote.html","title":"Class: PlayableNote","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: PlayableNote PlayableNote Represents a note that can be played by an instrument. new PlayableNote(pitchClass, octave, duration, instrument) Creates a new PlayableNote instance. Parameters: Name Type Description pitchClass octave duration instrument Source: models/PlayableNote.js, line 10 Extends Note Members &lt;static&gt; audioManager Returns the audio manager that handles note playing. Source: models/PlayableNote.js, line 28 duration :String Get the duration of a note Type: String Inherited From: Note#duration Source: models/Note.js, line 27 instrument :String Get the instrument that plays the note Type: String Source: models/PlayableNote.js, line 34 Methods interval(interval) Gets interval size (Number) and returns a new instance of a notewhich is calculated by the musical interval formula. Parameters: Name Type Description interval number Musical Interval Overrides: Note#interval Source: models/PlayableNote.js, line 46 Example let c = new Note({note:'c', octave:3}) //create a C3 note. let interval = c.interval(4) //calling the function with the number 4(which is a major third). console.log(interval.toStrring()) //should output 'E3'. console.log(interval.constructor.name) //should output Note. play() TODO test with mockPlay the note. Source: models/PlayableNote.js, line 69 setDuration(duration) Returns a new PlayableNote instance with the new duration. Parameters: Name Type Description duration Source: models/PlayableNote.js, line 78 setOctave(octave) Returns a new PlayableNote instance with the new octave. Parameters: Name Type Description octave Source: models/PlayableNote.js, line 91 toString() Returns a string of the note. Inherited From: Note#toString Source: models/Note.js, line 60 Returns: Type string transpose(interval) Alias for interval() Parameters: Name Type Description interval Number Overrides: Note#transpose Source: models/PlayableNote.js, line 60 × Search results Close Music "},"Scale.html":{"id":"Scale.html","title":"Class: Scale","body":" Note-Art Classes AudioManagerChordMeasureMusicTheoryStructuresNoteOctaveRulePaginatorPianoPitchPitchClassPitchClassRulePlayableNoteScale Global findQueryfindQueryByArrayfindQueryByStringfirstToUpperfreqFromPitchfreqFromRealNumbergetMinDurationnotesDistanceplayMelodicallyrealNumberFromFreqtwoDigitFormat Class: Scale Scale Represents a musical scale - a series of notes following a specific pattern from a note(the tonic) which forms chords and can be used to compose infinite melodies.Either Name or Pattern must be provided! new Scale(tonic, pattern) Parameters: Name Type Description tonic String/Note pattern Array Source: models/Scale.js, line 20 Throws: When not provided with tonic and either name or pattern Type MissingInformation When called with name and the name cant be found in the database. Type DataNotFound Example const c = new Note({note: 'c'}) const C_Major_by_pattern = new Scale({tonic:c, pattern: [0, 2, 4, 5, 7, 9, 11]}) // new C major scale. const C_minor_by_name = new Scale({tonic:c, name: 'Minor'}) // new C major scale // new C minor scale. Members chords :Array Returns the chords of the scale in an array, calculated by taking each note,then skipping one note and taking the next, etc...to form the Chord. Type: Array Source: models/Scale.js, line 121 name :* Returns the scale name. Type: * Source: models/Scale.js, line 103 notes returns array that contains all the notes in the pattern. Source: models/Scale.js, line 87 otherNames Returns other name of the scale. Source: models/Scale.js, line 111 pitchClasses :Array Returns an array of the pitch classes in the scale. Type: Array Source: models/Scale.js, line 154 pitchClassNamesString Returns a string of all the pitch class names in the scale. Source: models/Scale.js, line 144 pitchNamesString Returns a string of the pitch class names and octaves of the scale. Source: models/Scale.js, line 164 semitones :Array Returns the pattern for the scale as an array using semi-tone notation. Type: Array Source: models/Scale.js, line 95 seventhChords :Array Returns the chords of the scale in an array, calculated by taking each note,then skipping one note and taking the next, etc...to form the Chord. Type: Array Source: models/Scale.js, line 133 Methods &lt;static&gt; chordsFromNotes(notes, seventh) Gets an array of notes and returns a array of chords generated by the root +the note 2 degrees up +the note 4 degrees up Parameters: Name Type Default Description notes Array array of notes seventh Boolean false whether to create a 7th chord Source: models/Scale.js, line 69 Returns: Type Array chord(degree) Returns the chord that fits the scale degree note. Parameters: Name Type Description degree Source: models/Scale.js, line 193 Returns: Type * degree(degree) Returns the degree inside the Scale.for example - if the Scale is a C Major,than interval(1) wiil return D. Parameters: Name Type Description degree Number Source: models/Scale.js, line 184 play() Play the scale melodically. Source: models/Scale.js, line 200 toString() returns the name of the scale. Source: models/Scale.js, line 174 Returns: Type String × Search results Close Music "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
