!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("note-art",[],n):"object"==typeof exports?exports["note-art"]=n():t["note-art"]=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"a",(function(){return i}));var i=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,o;return n=t,o=[{key:"getPitchClassSet",value:function(n){return"#"===n?t.sharpClassNotes:"b"===n?t.flatClassNotes:null}}],(e=null)&&r(n.prototype,e),o&&r(n,o),t}();o(i,"sharpClassNotes",["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]),o(i,"flatClassNotes",["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"]),o(i,"pitchClassLetters",["C","D","E","F","G","A","B"]),o(i,"pitchClasses",["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"]),o(i,"intervals",{U:0,m2:1,M2:2,m3:3,M3:4,P4:5,aug4:6,dim5:6,P5:7,m6:8,M6:9,m7:10,M7:11,P8:12}),o(i,"noteDurations",{"1n":64,"2n":32,"2n.":48,"2t":21,"4n":16,"8n":8,"16n":4,"32n":2,"64n":1})},function(t,n,e){"use strict";var r=e(0);function o(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,i;return n=t,i=[{key:"validate",value:function(t){return Object.keys(r.a.noteDurations).includes(t)}}],(e=null)&&o(n.prototype,e),i&&o(n,i),t}(),u=e(4);function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,r;return n=t,r=[{key:"isPattern",value:function(n){if(t.isArray(n),!n.every((function(t){return parseInt(t)==t})))throw new u.a("_ should be an array where each member is an integer.");return!0}},{key:"isArray",value:function(t){if(!Array.isArray(t))throw new u.a("expected _ to be an array")}}],(e=null)&&c(n.prototype,e),r&&c(n,r),t}(),s=e(5);function f(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,o;return n=t,o=[{key:"exists",value:function(n){var e=l(n,2),r=e[0],o=e[1];if(!t.validLetters.includes(r))return!1;switch(o){case"b":if(!f(n).slice(2).every((function(t){return"b"===t})))return!1;break;case"x":if(!f(n).slice(2,n.length-1).every((function(t){return"x"===t})))return!1;if(!["x","#"].includes(n[n.length-1]))return!1;break;case"#":if(n.length>2)return!1}return!0}},{key:"isPitchClass",value:function(t){if(!s.PitchClass.isPitchClass(t))throw new u.a("expected ".concat(t," to be an instance of PitchClass"));return!0}},{key:"validLetters",get:function(){return r.a.pitchClassLetters.concat(r.a.pitchClassLetters.map((function(t){return t.toLowerCase()})))}}],(e=null)&&p(n.prototype,e),o&&p(n,o),t}(),y=e(2);function b(t){if(!Array.isArray(t))throw new u.a("expected ".concat(t," to be an array"));return!0}function v(t,n){if(!(t instanceof n))throw new u.a("expected ".concat(t," to be an instance of ").concat(n.name));return!0}function d(t){if("number"!=typeof t)throw new u.a("expected ".concat(t," to be a number"));return!0}function w(t){if(!Object(y.k)(t))throw new u.a("Expected ".concat(t," to be a string representing a note"));return!0}function g(t){b(t),t.forEach((function(t){return v(t,s.PitchClass)}))}e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return h})),e.d(n,"d",(function(){return b})),e.d(n,"e",(function(){return v})),e.d(n,"f",(function(){return d})),e.d(n,"h",(function(){return w})),e.d(n,"g",(function(){return g}))},function(t,n,e){"use strict";var r=e(7),o=e(0),i=e(5),u=e(1),c=e(6);function a(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,n){var e=t.classIndex,r=n.classIndex;return e-r<=0?Math.abs(e-r):12-(e-r)}function f(t){return Object(u.h)(t),{pitchClass:Object(r.a)(t.slice(0,t.length-1)),octave:parseInt(t[t.length-1])}}function l(t){return["r","R"].includes(t)}function p(t){if("string"!=typeof t)return!1;if(l(t))return!0;var n=Object(r.a)(t.slice(0,t.length-1)),e=parseInt(t[t.length-1]);return!(!u.c.exists(n)||"number"!=typeof e)}function h(t,n){return Object(u.h)(t),l(t)?t:i.Note.builder(t).interval(n).toString()}function y(t,n){for(var e,r=f(t),i=r.pitchClass,u=r.octave,c={},a=0;a<=n;++a)c[(e=o.a.flatClassNotes[(o.a.flatClassNotes.indexOf(i)+a)%12])+u]={pitchClass:e,octave:u},"B"===e&&u++;return c}function b(t,n){}function v(){}function d(t){var n=Object(r.f)(o.a.pitchClassLetters,o.a.pitchClassLetters.indexOf(t.root.pitchClass[0])),e=[t.root.pitchClass];return a(t.pitchClasses).slice(1).forEach((function(t,r){e.push(c.a.enharmonicPitchClass(t,new i.PitchClass(n[r+1])))})),e}function w(t){return t[t.length-1]}function g(t){return t.slice(0,t.length-1)}var m=e(3);function O(t){var n=t.octave-m.b.octave;return Math.pow(m.c,t.classIndex-o.a.flatClassNotes.indexOf(m.b.pitchClass)+n*m.a)*m.b.frequency}function j(t){return Math.round(m.b.midi+m.a*Math.log2(t/m.b.frequency))}function C(t){return m.b.frequency*Math.pow(2,(t-m.b.midi)/m.a)}var P=e(8);e.d(n,"f",(function(){return r.a})),e.d(n,"x",(function(){return r.h})),e.d(n,"v",(function(){return r.g})),e.d(n,"t",(function(){return r.f})),e.d(n,"n",(function(){return r.d})),e.d(n,"s",(function(){return r.e})),e.d(n,"g",(function(){return r.b})),e.d(n,"m",(function(){return r.c})),e.d(n,"c",(function(){return s})),e.d(n,"q",(function(){return f})),e.d(n,"l",(function(){return l})),e.d(n,"k",(function(){return p})),e.d(n,"w",(function(){return h})),e.d(n,"r",(function(){return y})),e.d(n,"j",(function(){return b})),e.d(n,"p",(function(){return v})),e.d(n,"u",(function(){return d})),e.d(n,"d",(function(){return w})),e.d(n,"e",(function(){return g})),e.d(n,"h",(function(){return O})),e.d(n,"i",(function(){return j})),e.d(n,"o",(function(){return C})),e.d(n,"a",(function(){return c.a})),e.d(n,"b",(function(){return P.a}))},function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"c",(function(){return i}));var r={pitchClass:"A",octave:4,midi:69,frequency:440},o=12,i=Math.pow(2,1/12)},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){var n="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return c(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,n,e){return(c=u()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&a(o,e.prototype),o}).apply(null,arguments)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.d(n,"a",(function(){return f}));var f=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o(this,s(n).call(this,"Invalid input: ".concat(t,".")))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),n}(i(Error))},function(t,n,e){"use strict";e.r(n);var r=e(2),o=e(1),i=e(0),u=e(4),c=e(6),a=e(8),s=e(3);function f(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(n){if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},!o.c.exists(n))throw new u.a("".concat(n," should be a pitch class."));this.attributes.raw=Object(r.f)(n),this.attributes.classSet=n.includes("#")?"#":"b",this.attributes.pitchClass=c.a.transformPitchClass(this),this.attributes.classIndex=i.a.getPitchClassSet(this.classSet).indexOf(this.pitchClass)}var n,e,p;return n=t,p=[{key:"isFlat",value:function(t){return t.includes("b")}},{key:"isSharp",value:function(t){return["#","x"].includes(t[1])}},{key:"isPitchClass",value:function(n){return n instanceof t}}],(e=[{key:"interval",value:function(n){if("number"==typeof n){var e=n%s.a;if(i.a.pitchClasses.includes(this.raw)){var r=Math.abs((this.classIndex+s.a+e)%s.a);return new t(i.a.getPitchClassSet(this.classSet)[r])}var o=i.a.getPitchClassSet(this.classSet).indexOf(this.raw[0]),c=Math.abs((o+s.a+e)%s.a),l=f(i.a.getPitchClassSet(this.classSet)[c],2),p=l[0],h=l[1],y=this.raw.slice(1);if("b"===h&&!y.includes("b")){var b=i.a.flatClassNotes[(i.a.flatClassNotes.indexOf("".concat(p).concat(h))-1)%12],v=f(a.a.enharmonicPitchClass("".concat(p).concat(h),b),2);p=v[0],h=v[1]}return"#"===y[y.length-1]&&h?new t("".concat(p).concat(y.slice(0,y.length-1),"x")):new t("".concat(p).concat(y).concat(h||""))}throw new u.a("".concat(n," is not a valid interval"))}},{key:"toString",value:function(){return this.raw}},{key:"pitchClass",get:function(){return this.attributes.pitchClass}},{key:"classSet",get:function(){return this.attributes.classSet}},{key:"classIndex",get:function(){return this.attributes.classIndex}},{key:"raw",get:function(){return this.attributes.raw}}])&&l(n.prototype,e),p&&l(n,p),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,n){return!n||"object"!==h(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function v(t,n,e){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=d(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,n){return(w=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var g=function(t){function n(t,e){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=b(this,d(n).call(this,t)),Object(o.f)(e),r.attributes.octave=e,r}var e,u,c;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&w(t,n)}(n,t),e=n,c=[{key:"builder",value:function(t){var e=Object(r.q)(t);return new n(e.pitchClass,e.octave)}},{key:"fromFrequency",value:function(t){var e=Object(r.i)(t);return new n(i.a.sharpClassNotes[e%12],Math.floor(e/12-1))}}],(u=[{key:"interval",value:function(t){var e=v(d(n.prototype),"interval",this).call(this,t).pitchClass,r=Math.floor((this.classIndex+t)/12);return t<0&&(r=this.classIndex+t<0?r:0),new n(e,this.octave+r)}},{key:"transpose",value:function(t){return this.interval(t)}},{key:"toString",value:function(){return"".concat(v(d(n.prototype),"toString",this).call(this)).concat(this.octave)}},{key:"octave",get:function(){return this.attributes.octave}}])&&y(e.prototype,u),c&&y(e,c),n}(p);function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?m(Object(e),!0).forEach((function(n){j(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function j(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function C(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function P(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=function(){function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,t),o.c.isPitchClass(n),o.b.isPattern(e),this.attributes={},this.setPitchClasses(n,e),this.attributes.info=O({},r,{pattern:e})}var n,e,r;return n=t,(e=[{key:"setPitchClasses",value:function(t,n){var e=[t];n.forEach((function(n){return e.push(t.interval(n))})),this.attributes.pitchClasses=e}},{key:"toString",value:function(){return this.pitchClasses.map((function(t){return t.toString()})).join(", ")}},{key:"transpose",value:function(n){return new t(this.root.interval(n),this.pattern,this.info)}},{key:"pitchClasses",get:function(){return this.attributes.pitchClasses}},{key:"root",get:function(){return this.pitchClasses[0]}},{key:"info",get:function(){return this.attributes.info}},{key:"pattern",get:function(){return this.info.pattern}},{key:"raw",get:function(){return this.pitchClasses.map((function(t){return t.raw}))}}])&&P(n.prototype,e),r&&P(n,r),t}(),k=e(7);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function A(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,n){return!n||"object"!==x(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,n){return(N=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var I=function(t){function n(){return _(this,n),E(this,T(n).apply(this,arguments))}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&N(t,n)}(n,t),e=n,(r=[{key:"inversion",value:function(t){if(t>0&&t<=this.pitchClasses.length)return Object(k.f)(this.pitchClasses,t);throw new u.a("inversion cant be bigger then the number of pitch classes in the chord")}}])&&A(e.prototype,r),o&&A(e,o),n}(S);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function D(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,n){return!n||"object"!==M(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function G(t,n,e){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=B(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,n){return(L=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var q=function(t){function n(){return R(this,n),F(this,B(n).apply(this,arguments))}var e,o,i;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&L(t,n)}(n,t),e=n,(o=[{key:"chords",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pitchClasses.map((function(e,r){return t.chord(r+1,n?4:3)}))}},{key:"degree",value:function(t){return this.pitchClasses[t-1]}},{key:"chord",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=this.pitchClasses,o=this.degree(t),i=t-1,u=[],c=1;c<n;++c)u.push(Object(r.c)(o,e[(i+2*c)%e.length]));return new I(o,u)}},{key:"raw",get:function(){return 6===this.pattern.length?Object(r.u)(this):G(B(n.prototype),"raw",this)}}])&&D(e.prototype,o),i&&D(e,i),n}(S);function U(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var z=function(){function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),o.b.isArray(n),this.attributes={pattern:n,pitchClass:e,name:r}}var n,e,i;return n=t,(e=[{key:"getChord",value:function(t){Object(o.e)(t,p);var n=Object(r.c)(this.pitchClass,t);return{pattern:this.pattern.map((function(t){return"x"===t?"x":t+n})),name:"".concat(t," ").concat(this.name)}}},{key:"pattern",get:function(){return this.attributes.pattern}},{key:"pitchClass",get:function(){return this.attributes.pitchClass}},{key:"name",get:function(){return this.attributes.name}}])&&U(n.prototype,e),i&&U(n,i),t}();e.d(n,"PitchClass",(function(){return p})),e.d(n,"Note",(function(){return g})),e.d(n,"MusicalPattern",(function(){return S})),e.d(n,"Chord",(function(){return I})),e.d(n,"Scale",(function(){return q})),e.d(n,"GuitarChordPattern",(function(){return z}))},function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var r=e(5),o=e(2),i=e(1),u=e(0),c=e(3);function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,f;return n=t,f=[{key:"pitchClassesToNotes",value:function(t,n){return Object(i.g)(t),Object(i.f)(n),t.map((function(t){return new r.Note(t.pitchClass,n)}))}},{key:"pitchClassesToPianoChordNotes",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(i.g)(t),Object(i.f)(n),e&&(t=Object(o.t)(t,e));var u=n;return t.map((function(n,e){return e-1>=0&&n.classIndex<t[e-1].classIndex&&u++,new r.Note(n.pitchClass,u)}))}},{key:"enharmonicPitchClass",value:function(t,n){for(var e=Object(o.c)(t,n),r=e>=7?"#":"b",i=e>=7?12-e:e,u="",c=0;c<i;++c)u=u.concat(r);return"#"===r&&(u=Object(o.n)(u,"##","x")),"".concat(n.raw).concat(u)}},{key:"transformPitchClass",value:function(t){var n,e=a(t.raw,2),r=e[0];switch(e[1]){case"#":return["E","B"].includes(r)?u.a.sharpClassNotes[(u.a.sharpClassNotes.indexOf(r)+1)%12]:t.raw;case"x":return n=2*Object(o.s)(t.raw,"x"),"#"===t.raw[t.raw.length-1]&&++n,u.a.sharpClassNotes[(u.a.sharpClassNotes.indexOf(r)+n)%c.a];case"b":if(!["C","F"].includes(r)&&2===t.raw.length)return t.raw;n=Object(o.s)(t.raw,"b");var i=u.a.flatClassNotes.indexOf(r)-n,s=i>=0?i:c.a+i;return u.a.flatClassNotes[s%c.a];default:return r}}}],(e=null)&&s(n.prototype,e),f&&s(n,f),t}()},function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"h",(function(){return a})),e.d(n,"g",(function(){return s})),e.d(n,"f",(function(){return f})),e.d(n,"d",(function(){return l})),e.d(n,"e",(function(){return p})),e.d(n,"b",(function(){return h})),e.d(n,"c",(function(){return y}));var r=e(4);function o(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return function(t){if(Array.isArray(t))return t}(t)||u(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t){return Number(Number.parseFloat(t).toFixed(2))}function s(t,n,e){var r=i(t).slice(0),o=r[n];return r[n]=r[e],r[e]=o,r}function f(t,n){for(var e=i(t).slice(0),r=[],u=0;u<n;)r.push(e.shift()),++u;return[].concat(o(e),r)}function l(t,n,e){for(;t.includes(n);)for(var r=t.length,o=0;o<r;++o)if(t.substr(o,n.length)===n){t="".concat(t.slice(0,o)).concat(e).concat(t.slice(o+n.length));break}return t}function p(t,n){return t.split(n).length-1}function h(t,n){for(var e=i(t).slice(0);e.length<n;)e=e.concat(o(e));return e.slice(0,n)}function y(t){if(!Array.isArray(t)||!t.every((function(t){return Array.isArray(t)})))throw new r.a("Expected ".concat(t," and each of it's elements to be an array"));return t.reduce((function(t,n){return t.length>n.length?t:n}),[])}},function(t,n,e){"use strict";e.d(n,"a",(function(){return p}));var r=e(6),o=e(5);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,n){return!n||"object"!==i(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function s(t,n,e){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=f(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var p=function(t){function n(){return u(this,n),a(this,f(n).apply(this,arguments))}var e,r,i;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&l(t,n)}(n,t),e=n,i=[{key:"pitchClassesToNotes",value:function(t,e){return s(f(n),"pitchClassesToNotes",this).call(this,t.map((function(t){return new o.PitchClass(t)})),e).map((function(t){return t.toString()}))}},{key:"pitchClassesToPianoChordNotes",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(f(n),"pitchClassesToPianoChordNotes",this).call(this,t.map((function(t){return new o.PitchClass(t)})),e,r).map((function(t){return t.toString()}))}},{key:"enharmonicPitchClass",value:function(t,e){return s(f(n),"enharmonicPitchClass",this).call(this,new o.PitchClass(t),new o.PitchClass(e))}}],(r=null)&&c(e.prototype,r),i&&c(e,i),n}(r.a)}])}));